!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Tartib",[],e):"object"==typeof exports?exports.Tartib=e():t.Tartib=e()}(self,(function(){return function(){"use strict";var t={d:function(e,r){for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};t.d(e,{default:function(){return F}});const r=document,o=r.documentElement,l=r.body,i="beforebegin",n="afterend",s="start",a="move",c="sort",d="change",{floor:u,abs:p}=Math,f={x:{t:"scrollLeft",l:"scrollWidth",i:"left",u:"right",p:"width"},y:{t:"scrollTop",l:"scrollHeight",i:"top",u:"bottom",p:"height"}},h=(t,e)=>{for(const r in t)Object.hasOwnProperty.call(t,r)&&e(t[r],r)},_=(t,...e)=>Object.assign(t,...e),g={dragFrom:{},cursor:"",elevation:!0,active:"",placeholder:"",dragHandle:"",axis:"",disabled:!1,opacity:1,autoScroll:!0,rtl:!1},m=".tartib__item",b="tartib__placeholder",y=(t,e,r,o,l,s)=>{let a,c=f[o],d=r>t[o]+.5*t[c.p];return e[o]<r?(d||s)&&(a=l?i:n):d&&!s||(a=l?n:i),a},x=t=>"string"==typeof t,v=(t,e)=>{t.config.disabled=e},w=(t,e,o)=>x(t)?t&&(e||r)["querySelector"+(o?"All":"")](t):t instanceof Element?t:null,j=t=>t&&t.getBoundingClientRect(),B=t=>t.parentElement,I=(t,e)=>{e?h(e,((e,r)=>{t.style[r]=e})):t.style=null},D=(t,e,r)=>{x(e)&&(e=[e]),e.forEach((e=>{x(e)&&e.split(/\s+/).forEach((e=>{e&&t.classList[r?"remove":"add"](e)}))}))},O=t=>({h(e){this._=e,D(t,e)},g(){D(t,this._,!0)}}),S=(t,e,r,o,l)=>{let i,{i:n,u:s,t:a,l:c,p:d}=f[o],u=p(t[a]),h=u>0,_=u<t[c]-e[d];(l?_:h)&&r[n]<e[n]?i=n:(l?h:_)&&r[s]>e[s]&&(i=s),i&&(t[a]+=r[i]-e[i])},T=(t,e,r,o,l)=>{var i;e="object"!=typeof(i=e)||null==i||Array.isArray(i)?{}:e;let n,s=j(o||t),a=o?j(t):s,c={};return h(r,((t,r)=>{n=e[r],""===n||isNaN(n)?n=x(n)&&/^\d*.?\d+\s*%$/.test(n.trim())?parseFloat(n)*s[f[r].p]/100:null:n*=1,null!=n?(l&&"x"===r&&(n=s.width-n),n+=s[r]):n=t,c[r]=n-a[r]})),c},A=(t,e,r)=>{e[{[i]:"previous",[n]:"next"}[t]+"ElementSibling"]!==r&&e.insertAdjacentElement(t,r)},E=t=>{const{el:e,config:n,_e:{m:p}}=t,{v:h,j:_}=(t=>({v:t=>t.closest(m),j(){let e=w(m,t,!0),r=[],o=e.length;for(let t=0;t<o;t++){const o=e[t];o.classList.contains(b)||r.push(o)}return r}}))(e),{B:g,I:x}=(()=>{const t=[],e=(t,e)=>{t[0][(e?"remove":"add")+"EventListener"](t[1],t[2])};return{B(r,o,l){let i=[r,o,l];e(i),t.push(i)},I(){t.forEach((t=>{e(t,!0)}))}}})();let v,D,E,F,H,P,L,M,N={D:O(e)},X={},Y={},q=!1,C=!1;const W=(t,e,r)=>{L&&(t-=o[f.x.t]),r.y&&(v.style.top=e-Y.y+"px"),r.x&&(v.style.left=t-Y.x+"px")},$=(t,e)=>e.map((e=>e.getAttribute(t||"id")));return g(e,"pointerdown",(t=>{let{dragHandle:r,dragFrom:i,disabled:s,autoScroll:a,rtl:c,axis:d,cursor:u}=n,{target:p,pointerId:f,clientX:g,clientY:m}=t;v=h(p),s||!v||r&&p!==w(r,v)||(L=c,M={x:"y"!==d,y:"x"!==d},p.releasePointerCapture(f),D=v.cloneNode(),D.id="",H=_(),N.O=O(v),N.S=O(D),N.D.h("tt-active"),I(o,{cursor:u}),X={x:g,y:m},P={el:e,x:0,y:0,target:v,relatedTarget:null,placeholder:D,items:H,getData(t){return $(t,this.items)}},Y=T(v,i,X,r?p:null,L),E=a?(t=>{let e=[],r=t.scrollHeight,i=t.scrollWidth;for(;null!==t;){let n=getComputedStyle(t).overflow,{width:s,height:a}=j(t),c=t===o;c&&(a=o.clientHeight),("auto"===n||"scroll"===n||c&&"visible"===n)&&(a<r||s<i)&&t!==l&&e.push(t),t=B(t)}return e})(e):[],C=!0)})),g(r,"pointermove",(t=>{if(C){let r,{target:l,clientX:d,clientY:f}=t;if(!q){W(X.x,X.y,{});let{elevation:t,placeholder:e,opacity:r,active:o}=n,{width:l,height:a,x:c,y:d}=j(v);a+="px",l+="px",I(v,{width:l,height:a,opacity:r>0&&r<1&&r}),I(D,{height:a}),p(s,P,{x:c,y:d}),N.O.h(["tartib__item--dragged",t&&"tt-elevation",o]),N.S.h(e||b),A(i,v,D),q=!0}if(W(d,f,M),F=j(v),r={x:F.x,y:F.y},p(a,P,r,{relatedTarget:l}),((t,e,r)=>{t.forEach((t=>{let l=j(t);if(t===o){let t=o.clientHeight,e=l.width;l={top:0,left:0,right:e,bottom:t,height:t,width:e}}S(t,l,e,"x",r),S(t,l,e,"y",!1)}))})(E,F,L),l=h(l),e.contains(l)&&l!==D){let t,e=j(l),{top:o,right:i,bottom:n,left:s}=j(D),a=d<=u(i)&&d>=u(s)&&M.y,h=f<=u(n)&&f>=u(o)&&M.x;!h&&!a&&M.x&&M.y?(t=y(e,X,d,"x",L),t=y(e,X,f,"y",!1,t)):(h||(t=y(e,X,f,"y",!1)),a||(t=y(e,X,d,"x",L))),t&&(A(t,l,D),X.y=f,X.x=d,p(c,P,r,{relatedTarget:l,items:_()}))}}})),g(r,"pointerup",(t=>{if(C){B(D)===e&&(e.replaceChild(v,D),D=null);let t=_(),r={placeholder:D,items:t};I(v),I(o,{cursor:""}),N.O.g(),N.D.g(),H.some(((e,r)=>e!==t[r]))&&p(d,P,r),q&&p("end",P,r),C=q=!1}})),g(r,"pointercancel",(t=>{C=q=!1})),{I:x,T:$,j:_}};class F{static version="1.0.0";static defaults=g;constructor(t,e){const r=this;r.el=w(t),r.config=_({},F.defaults,e),r._e=(()=>{const t={[s]:[],[a]:[],[c]:[],[d]:[],end:[]};return{m(e,...r){t[e].forEach((t=>{t(_({},{type:e},...r))}))},A(e,r){t[e]&&t[e].push(r)},F(e,r){let o=t[e];o?t[e]=r?o.filter((t=>t!==r)):[]:null===e&&h(t,((e,r)=>{t[r]=[]}))}}})(),r._s=E(r)}setOptions(t){_(this.config,t)}on(t,e){this._e.A(t,e)}off(t,e){this._e.F(t,e)}getData(t){let e=this._s;return e.T(t,e.j())}disable(){v(this,!0)}enable(){v(this,!1)}destroy(){const t=this;t._s.I(),h(t,((e,r)=>{delete t[r]}))}}return e=e.default}()}));
//# sourceMappingURL=tartib.min.js.map